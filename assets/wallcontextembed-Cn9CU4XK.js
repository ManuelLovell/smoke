import{O as n,C as o}from"./bsConstants-BnUSuXVw.js";/* empty css              */n.onReady(async()=>{const c=await n.player.getSelection();if(!c)return await n.popover.close(o.CONTEXTID);const a=document.getElementById("wallVisionSelect"),l=await n.scene.items.getItems(t=>c?.includes(t.id)),m=await n.party.getPlayers(),s=document.createElement("option");s.value="000000",s.textContent="Everyone",a.appendChild(s);for(const t of m){const e=document.createElement("option");e.value=t.id,e.textContent=t.name,e.style.color=t.color,a.appendChild(e)}if(a.value="",l.length===1){const e=l[0].metadata[`${o.EXTENSIONID}/wallViewers`];e?.length>0?a.value=e[0]:a.value="000000"}a.onchange=async t=>{const e=t.currentTarget;await n.scene.items.updateItems(l.map(i=>i.id),i=>{for(const r of i)e.value==="000000"?delete r.metadata[`${o.EXTENSIONID}/wallViewers`]:r.metadata[`${o.EXTENSIONID}/wallViewers`]=[e.value]})}});
