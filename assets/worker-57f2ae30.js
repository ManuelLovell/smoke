var Gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jn(_){return _&&_.__esModule&&Object.prototype.hasOwnProperty.call(_,"default")?_.default:_}function te(_){if(_.__esModule)return _;var V=_.default;if(typeof V=="function"){var I=function A(){return this instanceof A?Reflect.construct(V,arguments,this.constructor):V.apply(this,arguments)};I.prototype=V.prototype}else I={};return Object.defineProperty(I,"__esModule",{value:!0}),Object.keys(_).forEach(function(A){var R=Object.getOwnPropertyDescriptor(_,A);Object.defineProperty(I,A,R.get?R:{enumerable:!0,get:function(){return _[A]}})}),I}var Cn={exports:{}},ne={},ee=Object.freeze({__proto__:null,default:ne}),Ht=te(ee);(function(_,V){var I=(()=>{var A=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(A=A||__filename),function(R){R=R||{};var o;o||(o=typeof R<"u"?R:{});var J=Object.assign,L,tt;o.ready=new Promise(function(n,t){L=n,tt=t}),function(n){var t={};n.loadCmdsTypedArray=function(u){for(var f=0,l=0;l<u.length;l++)f+=u[l].length;if(t[f])var c=t[f];else c=new Float32Array(f),t[f]=c;var p=0;for(l=0;l<u.length;l++)for(var d=0;d<u[l].length;d++){var v=u[l][d];typeof v=="string"&&(v=n.SkBits2FloatUnsigned(parseInt(v))),c[p]=v,p++}return u=n._malloc(c.length*c.BYTES_PER_ELEMENT),n.HEAPF32.set(c,u/c.BYTES_PER_ELEMENT),[u,f]},n.FromCmds=function(u){u=n.loadCmdsTypedArray(u);var f=n._FromCmds(u[0],u[1]);return n._free(u[0]),f};var e,r,a,i,s;n.cubicYFromX=function(u,f,l,c,p){return e&&r===u&&a===f&&i===l&&s===c||(e&&e.delete(),e=new n._SkCubicMap([u,f],[l,c]),r=u,a=f,i=l,s=c),e.computeYFromX(p)},n.cubicPtFromT=function(u,f,l,c,p){return e&&r===u&&a===f&&i===l&&s===c||(e&&e.delete(),e=new n._SkCubicMap([u,f],[l,c]),r=u,a=f,i=l,s=c),e.computePtFromT(p)}}(o),function(n){n.onRuntimeInitialized=function(){n.SkPath.prototype.addPath=function(){var t=arguments[0];if(arguments.length===1)this._addPath(t,1,0,0,0,1,0,0,0,1);else if(arguments.length===2){var e=arguments[1];this._addPath(t,e.a,e.c,e.e,e.b,e.d,e.f,0,0,1)}else if(arguments.length===7)e=arguments,this._addPath(t,e[1],e[3],e[5],e[2],e[4],e[6],0,0,1);else if(arguments.length===10)e=arguments,this._addPath(t,e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9]);else return console.Ma("addPath expected to take 1, 2, 7, or 10 args. Got "+arguments.length),null;return this},n.SkPath.prototype.arc=function(t,e,r,a,i,s){return this._arc(t,e,r,a,i,!!s),this},n.SkPath.prototype.arcTo=function(t,e,r,a,i){return this._arcTo(t,e,r,a,i),this},n.SkPath.prototype.bezierCurveTo=function(t,e,r,a,i,s){return this._cubicTo(t,e,r,a,i,s),this},n.SkPath.prototype.close=function(){return this._close(),this},n.SkPath.prototype.closePath=function(){return this._close(),this},n.SkPath.prototype.conicTo=function(t,e,r,a,i){return this._conicTo(t,e,r,a,i),this},n.SkPath.prototype.cubicTo=function(t,e,r,a,i,s){return this._cubicTo(t,e,r,a,i,s),this},n.SkPath.prototype.dash=function(t,e,r){return this._dash(t,e,r)?this:null},n.SkPath.prototype.ellipse=function(t,e,r,a,i,s,u,f){return this._ellipse(t,e,r,a,i,s,u,!!f),this},n.SkPath.prototype.lineTo=function(t,e){return this._lineTo(t,e),this},n.SkPath.prototype.moveTo=function(t,e){return this._moveTo(t,e),this},n.SkPath.prototype.op=function(t,e){return this._op(t,e)?this:null},n.SkPath.prototype.quadraticCurveTo=function(t,e,r,a){return this._quadTo(t,e,r,a),this},n.SkPath.prototype.quadTo=function(t,e,r,a){return this._quadTo(t,e,r,a),this},n.SkPath.prototype.rect=function(t,e,r,a){return this._rect(t,e,r,a),this},n.SkPath.prototype.simplify=function(){return this._simplify()?this:null},n.SkPath.prototype.stroke=function(t){return t=t||{},t.width=t.width||1,t.miter_limit=t.miter_limit||4,t.cap=t.cap||n.StrokeCap.BUTT,t.join=t.join||n.StrokeJoin.MITER,this._stroke(t)?this:null},n.SkPath.prototype.transform=function(){if(arguments.length===1)this._transform(arguments[0]);else if(arguments.length===9){var t=arguments;this._transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}else return console.Ma("transform expected to take 1 or 9 arguments. Got "+arguments.length),null;return this},n.SkPath.prototype.trim=function(t,e,r){return this._trim(t,e,!!r)?this:null}}}(o);var x=J({},o),w=typeof window=="object",C=typeof importScripts=="function",y="",B,lt,ct,St,pt,At;typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"?(y=C?Ht.dirname(y)+"/":__dirname+"/",At=()=>{pt||(St=Ht,pt=Ht)},B=function(n,t){return At(),n=pt.normalize(n),St.readFileSync(n,t?null:"utf8")},ct=n=>(n=B(n,!0),n.buffer||(n=new Uint8Array(n)),n),lt=(n,t,e)=>{At(),n=pt.normalize(n),St.readFile(n,function(r,a){r?e(r):t(a.buffer)})},1<process.argv.length&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",function(n){throw n}),process.on("unhandledRejection",function(n){throw n}),o.inspect=function(){return"[Emscripten Module object]"}):(w||C)&&(C?y=self.location.href:typeof document<"u"&&document.currentScript&&(y=document.currentScript.src),A&&(y=A),y.indexOf("blob:")!==0?y=y.substr(0,y.replace(/[?#].*/,"").lastIndexOf("/")+1):y="",B=n=>{var t=new XMLHttpRequest;return t.open("GET",n,!1),t.send(null),t.responseText},C&&(ct=n=>{var t=new XMLHttpRequest;return t.open("GET",n,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),lt=(n,t,e)=>{var r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType="arraybuffer",r.onload=()=>{r.status==200||r.status==0&&r.response?t(r.response):e()},r.onerror=e,r.send(null)});var $n=o.print||console.log.bind(console),X=o.printErr||console.warn.bind(console);J(o,x),x=null;var nt;o.wasmBinary&&(nt=o.wasmBinary),o.noExitRuntime,typeof WebAssembly!="object"&&ot("no native wasm support detected");var Et,Lt=!1,Xt=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function bt(n,t,e){var r=t+e;for(e=t;n[e]&&!(e>=r);)++e;if(16<e-t&&n.subarray&&Xt)return Xt.decode(n.subarray(t,e));for(r="";t<e;){var a=n[t++];if(a&128){var i=n[t++]&63;if((a&224)==192)r+=String.fromCharCode((a&31)<<6|i);else{var s=n[t++]&63;a=(a&240)==224?(a&15)<<12|i<<6|s:(a&7)<<18|i<<12|s<<6|n[t++]&63,65536>a?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|a&1023))}}else r+=String.fromCharCode(a)}return r}function jn(n,t,e){var r=S;if(0<e){e=t+e-1;for(var a=0;a<n.length;++a){var i=n.charCodeAt(a);if(55296<=i&&57343>=i){var s=n.charCodeAt(++a);i=65536+((i&1023)<<10)|s&1023}if(127>=i){if(t>=e)break;r[t++]=i}else{if(2047>=i){if(t+1>=e)break;r[t++]=192|i>>6}else{if(65535>=i){if(t+2>=e)break;r[t++]=224|i>>12}else{if(t+3>=e)break;r[t++]=240|i>>18,r[t++]=128|i>>12&63}r[t++]=128|i>>6&63}r[t++]=128|i&63}}r[t]=0}}var Yt=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function Rn(n,t){for(var e=n>>1,r=e+t/2;!(e>=r)&&et[e];)++e;if(e<<=1,32<e-n&&Yt)return Yt.decode(S.subarray(n,e));for(e="",r=0;!(r>=t/2);++r){var a=q[n+2*r>>1];if(a==0)break;e+=String.fromCharCode(a)}return e}function On(n,t,e){if(e===void 0&&(e=2147483647),2>e)return 0;e-=2;var r=t;e=e<2*n.length?e/2:n.length;for(var a=0;a<e;++a)q[t>>1]=n.charCodeAt(a),t+=2;return q[t>>1]=0,t-r}function Fn(n){return 2*n.length}function Wn(n,t){for(var e=0,r="";!(e>=t/4);){var a=E[n+4*e>>2];if(a==0)break;++e,65536<=a?(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|a&1023)):r+=String.fromCharCode(a)}return r}function In(n,t,e){if(e===void 0&&(e=2147483647),4>e)return 0;var r=t;e=r+e-4;for(var a=0;a<n.length;++a){var i=n.charCodeAt(a);if(55296<=i&&57343>=i){var s=n.charCodeAt(++a);i=65536+((i&1023)<<10)|s&1023}if(E[t>>2]=i,t+=4,t+4>e)break}return E[t>>2]=0,t-r}function xn(n){for(var t=0,e=0;e<n.length;++e){var r=n.charCodeAt(e);55296<=r&&57343>=r&&++e,t+=4}return t}var Ct,ht,S,q,et,E,F,Qt,Jt;function tn(){var n=Et.buffer;Ct=n,o.HEAP8=ht=new Int8Array(n),o.HEAP16=q=new Int16Array(n),o.HEAP32=E=new Int32Array(n),o.HEAPU8=S=new Uint8Array(n),o.HEAPU16=et=new Uint16Array(n),o.HEAPU32=F=new Uint32Array(n),o.HEAPF32=Qt=new Float32Array(n),o.HEAPF64=Jt=new Float64Array(n)}var rt,nn=[],en=[],rn=[];function Nn(){var n=o.preRun.shift();nn.unshift(n)}var z=0,at=null;o.preloadedImages={},o.preloadedAudios={};function ot(n){throw o.onAbort&&o.onAbort(n),n="Aborted("+n+")",X(n),Lt=!0,n=new WebAssembly.RuntimeError(n+". Build with -s ASSERTIONS=1 for more info."),tt(n),n}function an(){return $.startsWith("data:application/octet-stream;base64,")}var $;if($="pathkit.wasm",!an()){var on=$;$=o.locateFile?o.locateFile(on,y):y+on}function un(){var n=$;try{if(n==$&&nt)return new Uint8Array(nt);if(ct)return ct(n);throw"both async and sync fetching of the wasm failed"}catch(t){ot(t)}}function Un(){if(!nt&&(w||C)){if(typeof fetch=="function"&&!$.startsWith("file://"))return fetch($,{credentials:"same-origin"}).then(function(n){if(!n.ok)throw"failed to load wasm binary file at '"+$+"'";return n.arrayBuffer()}).catch(function(){return un()});if(lt)return new Promise(function(n,t){lt($,function(e){n(new Uint8Array(e))},t)})}return Promise.resolve().then(function(){return un()})}function $t(n){for(;0<n.length;){var t=n.shift();if(typeof t=="function")t(o);else{var e=t.Wa;typeof e=="number"?t.xa===void 0?rt.get(e)():rt.get(e)(t.xa):e(t.xa===void 0?null:t.xa)}}}var dt={};function jt(n){for(;n.length;){var t=n.pop();n.pop()(t)}}function b(n){return this.fromWireType(F[n>>2])}var Y={},K={},mt={};function sn(n){if(n===void 0)return"_unknown";n=n.replace(/[^a-zA-Z0-9_]/g,"$");var t=n.charCodeAt(0);return 48<=t&&57>=t?"_"+n:n}function Rt(n,t){return n=sn(n),function(){return t.apply(this,arguments)}}function Ot(n){var t=Error,e=Rt(n,function(r){this.name=n,this.message=r,r=Error(r).stack,r!==void 0&&(this.stack=this.toString()+`
`+r.replace(/^Error(:[^\n]*)?\n/,""))});return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},e}var fn=void 0;function vt(n){throw new fn(n)}function N(n,t,e){function r(u){u=e(u),u.length!==n.length&&vt("Mismatched type converter count");for(var f=0;f<n.length;++f)W(n[f],u[f])}n.forEach(function(u){mt[u]=t});var a=Array(t.length),i=[],s=0;t.forEach(function(u,f){K.hasOwnProperty(u)?a[f]=K[u]:(i.push(u),Y.hasOwnProperty(u)||(Y[u]=[]),Y[u].push(function(){a[f]=K[u],++s,s===i.length&&r(a)}))}),i.length===0&&r(a)}var yt={};function gt(n){switch(n){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+n)}}var ln=void 0;function g(n){for(var t="";S[n];)t+=ln[S[n++]];return t}var Q=void 0;function h(n){throw new Q(n)}function W(n,t,e={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=t.name;if(n||h('type "'+r+'" must have a positive integer typeid pointer'),K.hasOwnProperty(n)){if(e.Qa)return;h("Cannot register type '"+r+"' twice")}K[n]=t,delete mt[n],Y.hasOwnProperty(n)&&(t=Y[n],delete Y[n],t.forEach(function(a){a()}))}function Ft(n){h(n.ea.ha.fa.name+" instance already deleted")}var Wt=!1;function cn(){}function pn(n){--n.count.value,n.count.value===0&&(n.ka?n.ma.la(n.ka):n.ha.fa.la(n.ga))}function it(n){return typeof FinalizationGroup>"u"?(it=t=>t,n):(Wt=new FinalizationGroup(function(t){for(var e=t.next();!e.done;e=t.next())e=e.value,e.ga?pn(e):console.warn("object already deleted: "+e.ga)}),it=t=>(Wt.register(t,t.ea,t.ea),t),cn=t=>{Wt.unregister(t.ea)},it(n))}var ut=void 0,st=[];function It(){for(;st.length;){var n=st.pop();n.ea.pa=!1,n.delete()}}function M(){}var hn={};function dn(n,t,e){if(n[t].ia===void 0){var r=n[t];n[t]=function(){return n[t].ia.hasOwnProperty(arguments.length)||h("Function '"+e+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+n[t].ia+")!"),n[t].ia[arguments.length].apply(this,arguments)},n[t].ia=[],n[t].ia[r.ua]=r}}function xt(n,t,e){o.hasOwnProperty(n)?((e===void 0||o[n].ia!==void 0&&o[n].ia[e]!==void 0)&&h("Cannot register public name '"+n+"' twice"),dn(o,n,n),o.hasOwnProperty(e)&&h("Cannot register multiple overloads of a function with the same number of arguments ("+e+")!"),o[n].ia[e]=t):(o[n]=t,e!==void 0&&(o[n].Xa=e))}function Zn(n,t,e,r,a,i,s,u){this.name=n,this.constructor=t,this.qa=e,this.la=r,this.na=a,this.Oa=i,this.ta=s,this.La=u,this.Ta=[]}function Nt(n,t,e){for(;t!==e;)t.ta||h("Expected null or instance of "+e.name+", got an instance of "+t.name),n=t.ta(n),t=t.na;return n}function Bn(n,t){return t===null?(this.Ba&&h("null is not a valid "+this.name),0):(t.ea||h('Cannot pass "'+Dt(t)+'" as a '+this.name),t.ea.ga||h("Cannot pass deleted object as a pointer of type "+this.name),Nt(t.ea.ga,t.ea.ha.fa,this.fa))}function Mn(n,t){if(t===null){if(this.Ba&&h("null is not a valid "+this.name),this.wa){var e=this.sa();return n!==null&&n.push(this.la,e),e}return 0}if(t.ea||h('Cannot pass "'+Dt(t)+'" as a '+this.name),t.ea.ga||h("Cannot pass deleted object as a pointer of type "+this.name),!this.va&&t.ea.ha.va&&h("Cannot convert argument of type "+(t.ea.ma?t.ea.ma.name:t.ea.ha.name)+" to parameter type "+this.name),e=Nt(t.ea.ga,t.ea.ha.fa,this.fa),this.wa)switch(t.ea.ka===void 0&&h("Passing raw pointer to smart pointer is illegal"),this.Va){case 0:t.ea.ma===this?e=t.ea.ka:h("Cannot convert argument of type "+(t.ea.ma?t.ea.ma.name:t.ea.ha.name)+" to parameter type "+this.name);break;case 1:e=t.ea.ka;break;case 2:if(t.ea.ma===this)e=t.ea.ka;else{var r=t.clone();e=this.Ua(e,D(function(){r.delete()})),n!==null&&n.push(this.la,e)}break;default:h("Unsupporting sharing policy")}return e}function Dn(n,t){return t===null?(this.Ba&&h("null is not a valid "+this.name),0):(t.ea||h('Cannot pass "'+Dt(t)+'" as a '+this.name),t.ea.ga||h("Cannot pass deleted object as a pointer of type "+this.name),t.ea.ha.va&&h("Cannot convert argument of type "+t.ea.ha.name+" to parameter type "+this.name),Nt(t.ea.ga,t.ea.ha.fa,this.fa))}function mn(n,t,e){return t===e?n:e.na===void 0?null:(n=mn(n,t,e.na),n===null?null:e.La(n))}var ft={};function Vn(n,t){for(t===void 0&&h("ptr should not be undefined");n.na;)t=n.ta(t),n=n.na;return ft[t]}function _t(n,t){return t.ha&&t.ga||vt("makeClassHandle requires ptr and ptrType"),!!t.ma!=!!t.ka&&vt("Both smartPtrType and smartPtr must be specified"),t.count={value:1},it(Object.create(n,{ea:{value:t}}))}function U(n,t,e,r){this.name=n,this.fa=t,this.Ba=e,this.va=r,this.wa=!1,this.la=this.Ua=this.sa=this.Ia=this.Va=this.Sa=void 0,t.na!==void 0?this.toWireType=Mn:(this.toWireType=r?Bn:Dn,this.ja=null)}function vn(n,t,e){o.hasOwnProperty(n)||vt("Replacing nonexistant public symbol"),o[n].ia!==void 0&&e!==void 0?o[n].ia[e]=t:(o[n]=t,o[n].ua=e)}function qn(n,t){var e=[];return function(){e.length=arguments.length;for(var r=0;r<arguments.length;r++)e[r]=arguments[r];return n.includes("j")?(r=o["dynCall_"+n],r=e&&e.length?r.apply(null,[t].concat(e)):r.call(null,t)):r=rt.get(t).apply(null,e),r}}function P(n,t){n=g(n);var e=n.includes("j")?qn(n,t):rt.get(t);return typeof e!="function"&&h("unknown function pointer with signature "+n+": "+t),e}var yn=void 0;function gn(n){n=Sn(n);var t=g(n);return Z(n),t}function wt(n,t){function e(i){a[i]||K[i]||(mt[i]?mt[i].forEach(e):(r.push(i),a[i]=!0))}var r=[],a={};throw t.forEach(e),new yn(n+": "+r.map(gn).join([", "]))}function Ut(n,t){for(var e=[],r=0;r<n;r++)e.push(E[(t>>2)+r]);return e}function Zt(n,t,e,r,a){var i=t.length;2>i&&h("argTypes array size mismatch! Must at least get return value and 'this' types!");var s=t[1]!==null&&e!==null,u=!1;for(e=1;e<t.length;++e)if(t[e]!==null&&t[e].ja===void 0){u=!0;break}var f=t[0].name!=="void",l=i-2,c=Array(l),p=[],d=[];return function(){if(arguments.length!==l&&h("function "+n+" called with "+arguments.length+" arguments, expected "+l+" args!"),d.length=0,p.length=s?2:1,p[0]=a,s){var v=t[1].toWireType(d,this);p[1]=v}for(var m=0;m<l;++m)c[m]=t[m+2].toWireType(d,arguments[m]),p.push(c[m]);if(m=r.apply(null,p),u)jt(d);else for(var T=s?1:2;T<t.length;T++){var k=T===1?v:c[T-2];t[T].ja!==null&&t[T].ja(k)}return v=f?t[0].fromWireType(m):void 0,v}}var Bt=[],O=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function _n(n){4<n&&--O[n].Ca===0&&(O[n]=void 0,Bt.push(n))}function Mt(n){return n||h("Cannot use deleted val. handle = "+n),O[n].value}function D(n){switch(n){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=Bt.length?Bt.pop():O.length;return O[t]={Ca:1,value:n},t}}function zn(n,t,e){switch(t){case 0:return function(r){return this.fromWireType((e?ht:S)[r])};case 1:return function(r){return this.fromWireType((e?q:et)[r>>1])};case 2:return function(r){return this.fromWireType((e?E:F)[r>>2])};default:throw new TypeError("Unknown integer type: "+n)}}function Pt(n,t){var e=K[n];return e===void 0&&h(t+" has unknown type "+gn(n)),e}function Dt(n){if(n===null)return"null";var t=typeof n;return t==="object"||t==="array"||t==="function"?n.toString():""+n}function Kn(n,t){switch(t){case 2:return function(e){return this.fromWireType(Qt[e>>2])};case 3:return function(e){return this.fromWireType(Jt[e>>3])};default:throw new TypeError("Unknown float type: "+n)}}function Gn(n,t,e){switch(t){case 0:return e?function(r){return ht[r]}:function(r){return S[r]};case 1:return e?function(r){return q[r>>1]}:function(r){return et[r>>1]};case 2:return e?function(r){return E[r>>2]}:function(r){return F[r>>2]};default:throw new TypeError("Unknown integer type: "+n)}}var Hn={};function Vt(n){var t=Hn[n];return t===void 0?g(n):t}var qt=[];function wn(){function n(t){t.$$$embind_global$$$=t;var e=typeof $$$embind_global$$$=="object"&&t.$$$embind_global$$$===t;return e||delete t.$$$embind_global$$$,e}if(typeof globalThis=="object")return globalThis;if(typeof $$$embind_global$$$=="object"||(typeof Gt=="object"&&n(Gt)?$$$embind_global$$$=Gt:typeof self=="object"&&n(self)&&($$$embind_global$$$=self),typeof $$$embind_global$$$=="object"))return $$$embind_global$$$;throw Error("unable to get global object.")}function Ln(n){var t=qt.length;return qt.push(n),t}function Xn(n,t){for(var e=Array(n),r=0;r<n;++r)e[r]=Pt(E[(t>>2)+r],"parameter "+r);return e}var Pn=[];function bn(n){var t=Array(n+1);return function(e,r,a){t[0]=e;for(var i=0;i<n;++i){var s=Pt(E[(r>>2)+i],"parameter "+i);t[i+1]=s.readValueFromPointer(a),a+=s.argPackAdvance}return e=new(e.bind.apply(e,t)),D(e)}}var Tn={},Yn=[null,[],[]];fn=o.InternalError=Ot("InternalError");for(var kn=Array(256),Tt=0;256>Tt;++Tt)kn[Tt]=String.fromCharCode(Tt);ln=kn,Q=o.BindingError=Ot("BindingError"),M.prototype.isAliasOf=function(n){if(!(this instanceof M&&n instanceof M))return!1;var t=this.ea.ha.fa,e=this.ea.ga,r=n.ea.ha.fa;for(n=n.ea.ga;t.na;)e=t.ta(e),t=t.na;for(;r.na;)n=r.ta(n),r=r.na;return t===r&&e===n},M.prototype.clone=function(){if(this.ea.ga||Ft(this),this.ea.ra)return this.ea.count.value+=1,this;var n=it,t=Object,e=t.create,r=Object.getPrototypeOf(this),a=this.ea;return n=n(e.call(t,r,{ea:{value:{count:a.count,pa:a.pa,ra:a.ra,ga:a.ga,ha:a.ha,ka:a.ka,ma:a.ma}}})),n.ea.count.value+=1,n.ea.pa=!1,n},M.prototype.delete=function(){this.ea.ga||Ft(this),this.ea.pa&&!this.ea.ra&&h("Object already scheduled for deletion"),cn(this),pn(this.ea),this.ea.ra||(this.ea.ka=void 0,this.ea.ga=void 0)},M.prototype.isDeleted=function(){return!this.ea.ga},M.prototype.deleteLater=function(){return this.ea.ga||Ft(this),this.ea.pa&&!this.ea.ra&&h("Object already scheduled for deletion"),st.push(this),st.length===1&&ut&&ut(It),this.ea.pa=!0,this},U.prototype.Pa=function(n){return this.Ia&&(n=this.Ia(n)),n},U.prototype.Ga=function(n){this.la&&this.la(n)},U.prototype.argPackAdvance=8,U.prototype.readValueFromPointer=b,U.prototype.deleteObject=function(n){n!==null&&n.delete()},U.prototype.fromWireType=function(n){function t(){return this.wa?_t(this.fa.qa,{ha:this.Sa,ga:e,ma:this,ka:n}):_t(this.fa.qa,{ha:this,ga:n})}var e=this.Pa(n);if(!e)return this.Ga(n),null;var r=Vn(this.fa,e);if(r!==void 0)return r.ea.count.value===0?(r.ea.ga=e,r.ea.ka=n,r.clone()):(r=r.clone(),this.Ga(n),r);if(r=this.fa.Oa(e),r=hn[r],!r)return t.call(this);r=this.va?r.Ja:r.pointerType;var a=mn(e,this.fa,r.fa);return a===null?t.call(this):this.wa?_t(r.fa.qa,{ha:r,ga:a,ma:this,ka:n}):_t(r.fa.qa,{ha:r,ga:a})},o.getInheritedInstanceCount=function(){return Object.keys(ft).length},o.getLiveInheritedInstances=function(){var n=[],t;for(t in ft)ft.hasOwnProperty(t)&&n.push(ft[t]);return n},o.flushPendingDeletes=It,o.setDelayFunction=function(n){ut=n,st.length&&ut&&ut(It)},yn=o.UnboundTypeError=Ot("UnboundTypeError"),o.count_emval_handles=function(){for(var n=0,t=5;t<O.length;++t)O[t]!==void 0&&++n;return n},o.get_first_emval=function(){for(var n=5;n<O.length;++n)if(O[n]!==void 0)return O[n];return null};var Qn={r:function(n){var t=dt[n];delete dt[n];var e=t.elements,r=e.length,a=e.map(function(u){return u.Aa}).concat(e.map(function(u){return u.Ea})),i=t.sa,s=t.la;N([n],a,function(u){return e.forEach(function(f,l){var c=u[l],p=f.ya,d=f.za,v=u[l+r],m=f.Da,T=f.Fa;f.read=k=>c.fromWireType(p(d,k)),f.write=(k,G)=>{var j=[];m(T,k,v.toWireType(j,G)),jt(j)}}),[{name:t.name,fromWireType:function(f){for(var l=Array(r),c=0;c<r;++c)l[c]=e[c].read(f);return s(f),l},toWireType:function(f,l){if(r!==l.length)throw new TypeError("Incorrect number of tuple elements for "+t.name+": expected="+r+", actual="+l.length);for(var c=i(),p=0;p<r;++p)e[p].write(c,l[p]);return f!==null&&f.push(s,c),c},argPackAdvance:8,readValueFromPointer:b,ja:s}]})},u:function(n){var t=yt[n];delete yt[n];var e=t.sa,r=t.la,a=t.Ha,i=a.map(function(s){return s.Aa}).concat(a.map(function(s){return s.Ea}));N([n],i,function(s){var u={};return a.forEach(function(f,l){var c=s[l],p=f.ya,d=f.za,v=s[l+a.length],m=f.Da,T=f.Fa;u[f.Na]={read:function(k){return c.fromWireType(p(d,k))},write:function(k,G){var j=[];m(T,k,v.toWireType(j,G)),jt(j)}}}),[{name:t.name,fromWireType:function(f){var l={},c;for(c in u)l[c]=u[c].read(f);return r(f),l},toWireType:function(f,l){for(var c in u)if(!(c in l))throw new TypeError('Missing field:  "'+c+'"');var p=e();for(c in u)u[c].write(p,l[c]);return f!==null&&f.push(r,p),p},argPackAdvance:8,readValueFromPointer:b,ja:r}]})},z:function(){},F:function(n,t,e,r,a){var i=gt(e);t=g(t),W(n,{name:t,fromWireType:function(s){return!!s},toWireType:function(s,u){return u?r:a},argPackAdvance:8,readValueFromPointer:function(s){if(e===1)var u=ht;else if(e===2)u=q;else if(e===4)u=E;else throw new TypeError("Unknown boolean type size: "+t);return this.fromWireType(u[s>>i])},ja:null})},l:function(n,t,e,r,a,i,s,u,f,l,c,p,d){c=g(c),i=P(a,i),u&&(u=P(s,u)),l&&(l=P(f,l)),d=P(p,d);var v=sn(c);xt(v,function(){wt("Cannot construct "+c+" due to unbound types",[r])}),N([n,t,e],r?[r]:[],function(m){if(m=m[0],r)var T=m.fa,k=T.qa;else k=M.prototype;m=Rt(v,function(){if(Object.getPrototypeOf(this)!==G)throw new Q("Use 'new' to construct "+c);if(j.oa===void 0)throw new Q(c+" has no accessible constructor");var En=j.oa[arguments.length];if(En===void 0)throw new Q("Tried to invoke ctor of "+c+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(j.oa).toString()+") parameters instead!");return En.apply(this,arguments)});var G=Object.create(k,{constructor:{value:m}});m.prototype=G;var j=new Zn(c,m,G,d,T,i,u,l);T=new U(c,j,!0,!1),k=new U(c+"*",j,!1,!1);var An=new U(c+" const*",j,!1,!0);return hn[n]={pointerType:k,Ja:An},vn(v,m),[T,k,An]})},i:function(n,t,e,r,a,i){0<t||ot(void 0);var s=Ut(t,e);a=P(r,a),N([],[n],function(u){u=u[0];var f="constructor "+u.name;if(u.fa.oa===void 0&&(u.fa.oa=[]),u.fa.oa[t-1]!==void 0)throw new Q("Cannot register multiple constructors with identical number of parameters ("+(t-1)+") for class '"+u.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return u.fa.oa[t-1]=()=>{wt("Cannot construct "+u.name+" due to unbound types",s)},N([],s,function(l){return l.splice(1,0,null),u.fa.oa[t-1]=Zt(f,l,null,a,i),[]}),[]})},a:function(n,t,e,r,a,i,s,u){var f=Ut(e,r);t=g(t),i=P(a,i),N([],[n],function(l){function c(){wt("Cannot call "+p+" due to unbound types",f)}l=l[0];var p=l.name+"."+t;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),u&&l.fa.Ta.push(t);var d=l.fa.qa,v=d[t];return v===void 0||v.ia===void 0&&v.className!==l.name&&v.ua===e-2?(c.ua=e-2,c.className=l.name,d[t]=c):(dn(d,t,p),d[t].ia[e-2]=c),N([],f,function(m){return m=Zt(p,m,l,i,s),d[t].ia===void 0?(m.ua=e-2,d[t]=m):d[t].ia[e-2]=m,[]}),[]})},I:function(n,t,e){n=g(n),N([],[t],function(r){return r=r[0],o[n]=r.fromWireType(e),[]})},E:function(n,t){t=g(t),W(n,{name:t,fromWireType:function(e){var r=Mt(e);return _n(e),r},toWireType:function(e,r){return D(r)},argPackAdvance:8,readValueFromPointer:b,ja:null})},h:function(n,t,e,r){function a(){}e=gt(e),t=g(t),a.values={},W(n,{name:t,constructor:a,fromWireType:function(i){return this.constructor.values[i]},toWireType:function(i,s){return s.value},argPackAdvance:8,readValueFromPointer:zn(t,e,r),ja:null}),xt(t,a)},k:function(n,t,e){var r=Pt(n,"enum");t=g(t),n=r.constructor,r=Object.create(r.constructor.prototype,{value:{value:e},constructor:{value:Rt(r.name+"_"+t,function(){})}}),n.values[e]=r,n[t]=r},q:function(n,t,e){e=gt(e),t=g(t),W(n,{name:t,fromWireType:function(r){return r},toWireType:function(r,a){return a},argPackAdvance:8,readValueFromPointer:Kn(t,e),ja:null})},f:function(n,t,e,r,a,i){var s=Ut(t,e);n=g(n),a=P(r,a),xt(n,function(){wt("Cannot call "+n+" due to unbound types",s)},t-1),N([],s,function(u){return u=[u[0],null].concat(u.slice(1)),vn(n,Zt(n,u,null,a,i),t-1),[]})},e:function(n,t,e,r,a){t=g(t),a===-1&&(a=4294967295),a=gt(e);var i=u=>u;if(r===0){var s=32-8*e;i=u=>u<<s>>>s}e=t.includes("unsigned")?function(u,f){return f>>>0}:function(u,f){return f},W(n,{name:t,fromWireType:i,toWireType:e,argPackAdvance:8,readValueFromPointer:Gn(t,a,r!==0),ja:null})},b:function(n,t,e){function r(i){i>>=2;var s=F;return new a(Ct,s[i+1],s[i])}var a=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];e=g(e),W(n,{name:e,fromWireType:r,argPackAdvance:8,readValueFromPointer:r},{Qa:!0})},p:function(n,t){t=g(t);var e=t==="std::string";W(n,{name:t,fromWireType:function(r){var a=F[r>>2];if(e)for(var i=r+4,s=0;s<=a;++s){var u=r+4+s;if(s==a||S[u]==0){if(i=i?bt(S,i,u-i):"",f===void 0)var f=i;else f+=String.fromCharCode(0),f+=i;i=u+1}}else{for(f=Array(a),s=0;s<a;++s)f[s]=String.fromCharCode(S[r+4+s]);f=f.join("")}return Z(r),f},toWireType:function(r,a){a instanceof ArrayBuffer&&(a=new Uint8Array(a));var i=typeof a=="string";i||a instanceof Uint8Array||a instanceof Uint8ClampedArray||a instanceof Int8Array||h("Cannot pass non-string to std::string");var s=(e&&i?()=>{for(var l=0,c=0;c<a.length;++c){var p=a.charCodeAt(c);55296<=p&&57343>=p&&(p=65536+((p&1023)<<10)|a.charCodeAt(++c)&1023),127>=p?++l:l=2047>=p?l+2:65535>=p?l+3:l+4}return l}:()=>a.length)(),u=zt(4+s+1);if(F[u>>2]=s,e&&i)jn(a,u+4,s+1);else if(i)for(i=0;i<s;++i){var f=a.charCodeAt(i);255<f&&(Z(u),h("String has UTF-16 code units that do not fit in 8 bits")),S[u+4+i]=f}else for(i=0;i<s;++i)S[u+4+i]=a[i];return r!==null&&r.push(Z,u),u},argPackAdvance:8,readValueFromPointer:b,ja:function(r){Z(r)}})},m:function(n,t,e){if(e=g(e),t===2)var r=Rn,a=On,i=Fn,s=()=>et,u=1;else t===4&&(r=Wn,a=In,i=xn,s=()=>F,u=2);W(n,{name:e,fromWireType:function(f){for(var l=F[f>>2],c=s(),p,d=f+4,v=0;v<=l;++v){var m=f+4+v*t;(v==l||c[m>>u]==0)&&(d=r(d,m-d),p===void 0?p=d:(p+=String.fromCharCode(0),p+=d),d=m+t)}return Z(f),p},toWireType:function(f,l){typeof l!="string"&&h("Cannot pass non-string to C++ string type "+e);var c=i(l),p=zt(4+c+t);return F[p>>2]=c>>u,a(l,p+4,c+t),f!==null&&f.push(Z,p),p},argPackAdvance:8,readValueFromPointer:b,ja:function(f){Z(f)}})},t:function(n,t,e,r,a,i){dt[n]={name:g(t),sa:P(e,r),la:P(a,i),elements:[]}},s:function(n,t,e,r,a,i,s,u,f){dt[n].elements.push({Aa:t,ya:P(e,r),za:a,Ea:i,Da:P(s,u),Fa:f})},v:function(n,t,e,r,a,i){yt[n]={name:g(t),sa:P(e,r),la:P(a,i),Ha:[]}},j:function(n,t,e,r,a,i,s,u,f,l){yt[n].Ha.push({Na:g(t),Aa:e,ya:P(r,a),za:i,Ea:s,Da:P(u,f),Fa:l})},G:function(n,t){t=g(t),W(n,{Ra:!0,name:t,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},d:function(n,t,e,r){n=qt[n],t=Mt(t),e=Vt(e),n(t,e,null,r)},J:_n,x:function(n){return n===0?D(wn()):(n=Vt(n),D(wn()[n]))},c:function(n,t){var e=Xn(n,t),r=e[0];t=r.name+"_$"+e.slice(1).map(function(s){return s.name}).join("_")+"$";var a=Pn[t];if(a!==void 0)return a;var i=Array(n-1);return a=Ln((s,u,f,l)=>{for(var c=0,p=0;p<n-1;++p)i[p]=e[p+1].readValueFromPointer(l+c),c+=e[p+1].argPackAdvance;for(s=s[u].apply(s,i),p=0;p<n-1;++p)e[p+1].Ka&&e[p+1].Ka(i[p]);if(!r.Ra)return r.toWireType(f,s)}),Pn[t]=a},n:function(n){4<n&&(O[n].Ca+=1)},w:function(n,t,e,r){n=Mt(n);var a=Tn[t];return a||(a=bn(t),Tn[t]=a),a(n,e,r)},K:function(){return D([])},D:function(n){return D(Vt(n))},H:function(n,t){return n=Pt(n,"_emval_take_value"),n=n.readValueFromPointer(t),D(n)},g:function(){ot("")},B:function(n){var t=S.length;if(n>>>=0,2147483648<n)return!1;for(var e=1;4>=e;e*=2){var r=t*(1+.2/e);r=Math.min(r,n+100663296),r=Math.max(n,r),0<r%65536&&(r+=65536-r%65536);t:{try{Et.grow(Math.min(2147483648,r)-Ct.byteLength+65535>>>16),tn();var a=1;break t}catch{}a=void 0}if(a)return!0}return!1},C:function(){return 0},y:function(){},o:function(n,t,e,r){for(var a=0,i=0;i<e;i++){var s=E[t>>2],u=E[t+4>>2];t+=8;for(var f=0;f<u;f++){var l=S[s+f],c=Yn[n];l===0||l===10?((n===1?$n:X)(bt(c,0)),c.length=0):c.push(l)}a+=u}return E[r>>2]=a,0},A:function(){}};(function(){function n(a){o.asm=a.exports,Et=o.asm.L,tn(),rt=o.asm._,en.unshift(o.asm.M),z--,o.monitorRunDependencies&&o.monitorRunDependencies(z),z==0&&at&&(a=at,at=null,a())}function t(a){n(a.instance)}function e(a){return Un().then(function(i){return WebAssembly.instantiate(i,r)}).then(function(i){return i}).then(a,function(i){X("failed to asynchronously prepare wasm: "+i),ot(i)})}var r={a:Qn};if(z++,o.monitorRunDependencies&&o.monitorRunDependencies(z),o.instantiateWasm)try{return o.instantiateWasm(r,n)}catch(a){return X("Module.instantiateWasm callback failed with error: "+a),!1}return function(){return nt||typeof WebAssembly.instantiateStreaming!="function"||an()||$.startsWith("file://")||typeof fetch!="function"?e(t):fetch($,{credentials:"same-origin"}).then(function(a){return WebAssembly.instantiateStreaming(a,r).then(t,function(i){return X("wasm streaming compile failed: "+i),X("falling back to ArrayBuffer instantiation"),e(t)})})}().catch(tt),{}})(),o.___wasm_call_ctors=function(){return(o.___wasm_call_ctors=o.asm.M).apply(null,arguments)},o.__Z6ToCmdsRK6SkPath=function(){return(o.__Z6ToCmdsRK6SkPath=o.asm.N).apply(null,arguments)},o.__Z8FromCmdsmi=function(){return(o.__Z8FromCmdsmi=o.asm.O).apply(null,arguments)},o.__Z7NewPathv=function(){return(o.__Z7NewPathv=o.asm.P).apply(null,arguments)},o.__Z8CopyPathRK6SkPath=function(){return(o.__Z8CopyPathRK6SkPath=o.asm.Q).apply(null,arguments)},o.__Z6EqualsRK6SkPathS1_=function(){return(o.__Z6EqualsRK6SkPathS1_=o.asm.R).apply(null,arguments)},o.__Z11ToSVGStringRK6SkPath=function(){return(o.__Z11ToSVGStringRK6SkPath=o.asm.S).apply(null,arguments)},o.__Z13FromSVGStringNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEE=function(){return(o.__Z13FromSVGStringNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEE=o.asm.T).apply(null,arguments)},o.__Z13ApplySimplifyR6SkPath=function(){return(o.__Z13ApplySimplifyR6SkPath=o.asm.U).apply(null,arguments)},o.__Z11ApplyPathOpR6SkPathRKS_8SkPathOp=function(){return(o.__Z11ApplyPathOpR6SkPathRKS_8SkPathOp=o.asm.V).apply(null,arguments)},o.__Z10MakeFromOpRK6SkPathS1_8SkPathOp=function(){return(o.__Z10MakeFromOpRK6SkPathS1_8SkPathOp=o.asm.W).apply(null,arguments)},o.__Z14ResolveBuilderR11SkOpBuilder=function(){return(o.__Z14ResolveBuilderR11SkOpBuilder=o.asm.X).apply(null,arguments)},o.__Z8ToCanvasRK6SkPathN10emscripten3valE=function(){return(o.__Z8ToCanvasRK6SkPathN10emscripten3valE=o.asm.Y).apply(null,arguments)},o.__Z8ToPath2DRK6SkPath=function(){return(o.__Z8ToPath2DRK6SkPath=o.asm.Z).apply(null,arguments)};var Z=o._free=function(){return(Z=o._free=o.asm.$).apply(null,arguments)},zt=o._malloc=function(){return(zt=o._malloc=o.asm.aa).apply(null,arguments)},Sn=o.___getTypeName=function(){return(Sn=o.___getTypeName=o.asm.ba).apply(null,arguments)};o.___embind_register_native_and_builtin_types=function(){return(o.___embind_register_native_and_builtin_types=o.asm.ca).apply(null,arguments)},o.dynCall_jiji=function(){return(o.dynCall_jiji=o.asm.da).apply(null,arguments)};var kt;at=function n(){kt||Kt(),kt||(at=n)};function Kt(){function n(){if(!kt&&(kt=!0,o.calledRun=!0,!Lt)){if($t(en),L(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;){var t=o.postRun.shift();rn.unshift(t)}$t(rn)}}if(!(0<z)){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)Nn();$t(nn),0<z||(o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),n()},1)):n())}}if(o.run=Kt,o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);0<o.preInit.length;)o.preInit.pop()();return Kt(),R.ready}})();_.exports=I})(Cn);var re=Cn.exports,ae=Jn(re),oe="/assets/pathkit-1356ccfa.wasm";const H=await ae({locateFile:()=>oe});self.onerror=function(_){console.log("There was an error with the fog worker."),console.log(_)};self.onmessageerror=function(_){console.log("Error on message event for fog worker.")};self.onmessage=function(_){const{numb:V,polygons:I,mapOffset:A,mapSize:R}=_.data,o=new H.SkOpBuilder,J=H.NewPath().rect(A[0],A[1],R[0],R[1]);o.add(J,H.PathOp.UNION),J.delete();for(const x of I){const w=x.fromShape,C=H.NewPath();C.moveTo(x.pointset[0].x,x.pointset[0].y);for(let y=1;y<x.pointset.length;y++)C.lineTo(x.pointset[y].x,x.pointset[y].y);if(C.closePath(),w.style.closed!==!1){const y=H.NewPath();y.moveTo(w.points[0].x*w.scale.x+w.position.x,w.points[0].y*w.scale.y+w.position.y);for(let B=1;B<w.points.length-1;B++)y.lineTo(w.points[B].x*w.scale.x+w.position.x,w.points[B].y*w.scale.y+w.position.y);y.closePath(),C.op(y,H.PathOp.DIFFERENCE),y.delete()}o.add(C,H.PathOp.DIFFERENCE),C.delete()}const L=o.resolve();L.simplify();const tt=L.toCmds();L.delete(),o.delete(),self.postMessage({numb:V,messageData:tt})};
