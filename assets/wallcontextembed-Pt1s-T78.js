import{O as l,C as n}from"./bsConstants-DQ62a_ZN.js";/* empty css              */l.onReady(async()=>{const m=await l.player.getSelection();if(!m)return await l.popover.close(n.CONTEXTID);const o=document.getElementById("wallVisionSelect"),i=document.getElementById("wallDepthSelect"),c=await l.scene.items.getItems(t=>m?.includes(t.id)),d=await l.party.getPlayers(),r=document.createElement("option");r.value="000000",r.textContent="Everyone",o.appendChild(r);for(const t of d){const e=document.createElement("option");e.value=t.id,e.textContent=t.name,e.style.color=t.color,o.appendChild(e)}if(o.value="",c.length===1){const t=c[0],e=t.metadata[`${n.EXTENSIONID}/wallViewers`],a=t.metadata[`${n.EXTENSIONID}/wallDepth`];e?.length>0?o.value=e[0]:o.value="000000",a?i.value=a:i.value="0"}o.onchange=async t=>{const e=t.currentTarget;await l.scene.items.updateItems(c.map(a=>a.id),a=>{for(const s of a)e.value==="000000"?delete s.metadata[`${n.EXTENSIONID}/wallViewers`]:s.metadata[`${n.EXTENSIONID}/wallViewers`]=[e.value]})},i.onchange=async t=>{const e=t.currentTarget;await l.scene.items.updateItems(c.map(a=>a.id),a=>{for(const s of a)e.value==="0"?delete s.metadata[`${n.EXTENSIONID}/wallDepth`]:s.metadata[`${n.EXTENSIONID}/wallDepth`]=e.value})}});
