import{O as u,C as n}from"./bsConstants-CliuOKs_.js";/* empty css              */u.onReady(async()=>{const v=await u.player.getSelection();if(!v)return await u.popover.close(n.CONTEXTID);const r=document.getElementById("visionContext"),I=document.getElementById("bumperContext"),f=document.getElementById("falloffContext"),c=document.getElementById("darkContext"),m=document.getElementById("innerContext"),d=document.getElementById("outerContext"),l=await u.scene.items.getItems(a=>v?.includes(a.id)),g=await u.scene.getMetadata();if(l.length===1){const a=l[0];r.value=a.metadata[`${n.EXTENSIONID}/visionRange`]!==void 0?a.metadata[`${n.EXTENSIONID}/visionRange`]:o("visionRangeDefault"),I.value=a.metadata[`${n.EXTENSIONID}/visionSourceRange`]!==void 0?a.metadata[`${n.EXTENSIONID}/visionSourceRange`]:o("visionSourceDefault"),f.value=a.metadata[`${n.EXTENSIONID}/visionFallOff`]!==void 0?a.metadata[`${n.EXTENSIONID}/visionFallOff`]:o("visionFallOffDefault"),m.value=a.metadata[`${n.EXTENSIONID}/visionInAngle`]!==void 0?a.metadata[`${n.EXTENSIONID}/visionInAngle`]:o("visionInAngleDefault"),d.value=a.metadata[`${n.EXTENSIONID}/visionOutAngle`]!==void 0?a.metadata[`${n.EXTENSIONID}/visionOutAngle`]:o("visionOutAngleDefault"),c.value=a.metadata[`${n.EXTENSIONID}/visionDark`]!==void 0?a.metadata[`${n.EXTENSIONID}/visionDark`]:o("visionDarkDefault")}r.onchange=async a=>{if(!a||!a.target)return;const e=a.target,t=parseInt(e.value);t<0&&(e.value="0"),t>999&&(e.value="999"),isNaN(t)&&(e.value=o("visionRangeDefault")),await u.scene.items.updateItems(l.map(i=>i.id),i=>{for(let s of i)s.metadata[`${n.EXTENSIONID}/visionRange`]=e.value})},I.onchange=async a=>{if(!a||!a.target)return;const e=a.target,t=parseFloat(e.value);t<0&&(e.value="0"),t>999&&(e.value="999"),isNaN(t)&&(e.value=o("visionSourceDefault")),await u.scene.items.updateItems(l.map(i=>i.id),i=>{for(let s of i)s.metadata[`${n.EXTENSIONID}/visionSourceRange`]=e.value})},f.onchange=async a=>{if(!a||!a.target)return;const e=a.target,t=parseFloat(e.value);t<0&&(e.value="0"),t>10&&(e.value="10"),isNaN(t)&&(e.value=o("visionFallOffDefault")),await u.scene.items.updateItems(l.map(i=>i.id),i=>{for(let s of i)s.metadata[`${n.EXTENSIONID}/visionFallOff`]=e.value})},m.onchange=async a=>{if(!a||!a.target)return;const e=a.target,t=parseInt(e.value);t<0&&(e.value="0"),t>360&&(e.value="360"),isNaN(t)&&(e.value=o("visionInAngleDefault")),await u.scene.items.updateItems(l.map(i=>i.id),i=>{for(let s of i)s.metadata[`${n.EXTENSIONID}/visionInAngle`]=e.value})},d.onchange=async a=>{if(!a||!a.target)return;const e=a.target,t=parseInt(e.value);t<0&&(e.value="0"),t>360&&(e.value="360"),isNaN(t)&&(e.value=o("visionOutAngleDefault")),await u.scene.items.updateItems(l.map(i=>i.id),i=>{for(let s of i)s.metadata[`${n.EXTENSIONID}/visionOutAngle`]=e.value})},c.onchange=async a=>{if(!a||!a.target)return;const e=a.target,t=parseInt(e.value);t<0&&(e.value="0"),t>999&&(e.value="999"),isNaN(t)&&(e.value=o("visionDarkDefault")),await u.scene.items.updateItems(l.map(i=>i.id),i=>{for(let s of i)s.metadata[`${n.EXTENSIONID}/visionDark`]=e.value})};function o(a){const e=g[`${n.EXTENSIONID}/${a}`];return e||n.ATTENUATIONDEFAULT}});
